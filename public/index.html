<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Management</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header style="text-align: right; margin: 10px;">
        <button id="login-button" onclick="redirectToLogin()">LOGIN</button>
    </header>

    <h1>Task Management CRUD</h1>

    <div id="user-forms-container">
        <section id="create-user">
            <h2>Voeg een nieuwe gebruiker toe</h2>
            <form id="user-form">
                <label for="first-name">Voornaam:</label>
                <input type="text" id="first-name" placeholder="Voornaam" required>
        
                <label for="last-name">Achternaam:</label>
                <input type="text" id="last-name" placeholder="Achternaam" required>
        
                <label for="email">E-mail:</label>
                <input type="email" id="email" placeholder="voornaamachternaam@example.com" required>
        
                <label for="phone-number">Telefoonnummer:</label>
                <input type="text" id="phone-number" placeholder="+32 123 456 789" required>
        
                <label for="age">Leeftijd:</label>
                <input type="number" id="age" placeholder="Bijv. 25" required>
        
                <label for="password">Wachtwoord:</label>
                <input type="password" id="password" placeholder="Wachtwoord" required>
        
                <label for="is-admin">
                    <input type="checkbox" id="is-admin"> Admin gebruiker?
                </label>
        
                <button type="submit">Gebruiker toevoegen</button>
            </form>
            <div id="user-error" style="color: red;"></div>
        </section>
        

        <section id="update-user">
            <h2>Update een gebruiker</h2>
            <form id="update-user-form">
                <label for="update-user-id">Gebruiker ID:</label>
                <input type="number" id="update-user-id" placeholder="1" required>
                
                <label for="update-first-name">Voornaam:</label>
                <input type="text" id="update-first-name" placeholder="Voornaam" required>
                
                <label for="update-last-name">Achternaam:</label>
                <input type="text" id="update-last-name" placeholder="Achternaam" required>
                
                <label for="update-email">E-mail:</label>
                <input type="email" id="update-email" placeholder="voornaamachternaam@example.com" required>
                
                <label for="update-phone-number">Telefoonnummer:</label>
                <input type="text" id="update-phone-number" placeholder="+32 123 456 789" required>
        
                <label for="update-age">Leeftijd:</label>
                <input type="number" id="update-age" placeholder="Bijv. 25" required>
        
                <label for="update-password">Wachtwoord:</label>
                <input type="password" id="update-password" placeholder="Wachtwoord">
        
                <label for="update-is-admin">
                    <input type="checkbox" id="update-is-admin"> Admin gebruiker?
                </label>
                
                <button type="submit">Gebruiker updaten</button>
            </form>
        </section>
        
    </div>

    <section id="create-task">
        <h2>Voeg een nieuwe taak toe</h2>
        <form id="task-form">
            <label for="task-user-search">Zoek gebruiker:</label>
            <input type="text" id="task-user-search" placeholder="Typ de naam van de gebruiker" autocomplete="off">
            <ul id="user-search-results" class="dropdown"></ul>

            <label for="task-title">Titel:</label>
            <input type="text" id="task-title" placeholder="Bijvoorbeeld: Maak rapport" required>

            <label for="task-description">Beschrijving:</label>
            <textarea id="task-description" placeholder="Optionele beschrijving"></textarea>

            <label for="task-status">Status:</label>
            <select id="task-status">
                <option value="open">Open</option>
                <option value="completed">Voltooid</option>
            </select>

            <button type="submit">Taak toevoegen</button>
        </form>
        <div id="task-error" style="color: red;"></div>
    </section>

    <div id="edit-task-modal" class="modal">
        <form id="edit-task-form">
            <input type="hidden" id="edit-task-id">
            <label for="edit-task-user-search">Zoek gebruiker:</label>
            <input type="text" id="edit-task-user-search" placeholder="Typ de naam van de gebruiker" autocomplete="off">
            <ul id="edit-user-search-results"></ul>
            <label for="edit-task-title">Titel:</label>
            <input type="text" id="edit-task-title" placeholder="Titel" required>
            <label for="edit-task-description">Beschrijving:</label>
            <textarea id="edit-task-description" placeholder="Beschrijving"></textarea>
            <button type="submit">Opslaan</button>
            <button type="button" class="close-modal" onclick="closeEditTaskModal()">Annuleren</button>
        </form>
    </div>

    <section id="users-list">
        <h2>Alle gebruikers en hun taken</h2>
        <button onclick="fetchUsers()">Ververs lijst</button>
        <ul id="user-list"></ul>
        <div id="pagination" style="margin-top: 20px; text-align: center;"></div>
    </section>

    <script src="config.js"></script>
    <script src="crud.js"></script>
    <script src="auth.js"></script>
</body>
</html>
